@model IEnumerable<SporSalonuYönetimSistemi.Models.Member>

@{
    ViewBag.Title = "Üye Yönetimi";
}

<h2>Üye Yönetimi</h2>

<!-- Yeni Üye Ekleme Formu -->
<h3>Yeni Üye Ekle</h3>
<form asp-action="UyeEkle_action" method="post">
    <div class="form-group">
        <label for="AdSoyad">Ad Soyad</label>
        <input type="text" class="form-control" id="AdSoyad" name="AdSoyad" required />
    </div>
    <div class="form-group">
        <label for="Eposta">E-posta</label>
        <input type="email" class="form-control" id="Eposta" name="Eposta" required />
    </div>
    <div class="form-group">
        <label for="Telefon">Telefon</label>
        <input type="text" class="form-control" id="Telefon" name="Telefon" required />
    </div>
    <div class="form-group">
        <label for="UyelikTuru">Üyelik Türü</label>
        <select class="form-control" id="UyelikTuru" name="UyelikTuru">
            <option value="Basic">Basic</option>
            <option value="Premium">Premium</option>
            <option value="VIP">VIP</option>
        </select>
    </div>
    <div class="form-group">
        <label for="AylikUcret">Aylık Ücret</label>
        <input type="number" class="form-control" id="AylikUcret" name="AylikUcret" required />
    </div>
    <div class="form-group">
        <label for="AbonelikBaslangicTarihi">Abonelik Başlangıç Tarihi</label>
        <input type="date" class="form-control" id="AbonelikBaslangicTarihi" name="AbonelikBaslangicTarihi" required />
    </div>
    <button type="submit" class="btn btn-primary">Üye Ekle</button>
</form>

<hr />

<!-- Üye Arama Formu -->
<h3>Üye Arama</h3>
<form method="get" action="@Url.Action("UyeListesi")">
    <div class="form-group">
        <label for="search">Arama Yap:</label>
        <input type="text" class="form-control" id="search" name="search" placeholder="Üye adı veya e-posta ile arama yapın" />
    </div>
    <button type="submit" class="btn btn-secondary">Ara</button>
</form>

<hr />

<!-- Üye Listesi -->
@if (ViewBag.Message != null)
{
    <div class="alert alert-warning">@ViewBag.Message</div>
}

<table class="table table-bordered table-striped">
    <thead>
        <tr>
            <th>Üye Adı</th>
            <th>E-posta</th>
            <th>Telefon</th>
            <th>Kayıt Tarihi</th>
            <th>Üyelik Tipi</th>
            <th>Aylık Ücret</th>
            <th>VIP Durumu</th>
            <th>İşlemler</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var uye in Model)
        {
            <tr>
                <td>@uye.AdSoyad</td>
                <td>@uye.Eposta</td>
                <td>@uye.Telefon</td>
                <td>@(uye.AbonelikBaslangicTarihi.HasValue ? uye.AbonelikBaslangicTarihi.Value.ToString("yyyy-MM-dd") : "Tarih yok")</td>
                <td>@uye.UyelikTuru</td>
                <td>@string.Format("{0:C}", uye.AylikUcret)</td>
             
                <td>
                    <a class="btn btn-info btn-sm" asp-action="UyeDetay_action" asp-route-id="@uye.Id">Detay</a>
                    <a class="btn btn-warning btn-sm" asp-action="UyeDuzenle" asp-route-id="@uye.Id">Düzenle</a>
                    <a class="btn btn-danger btn-sm" asp-action="UyeSil" asp-route-id="@uye.Id" onclick="return confirm('Emin misiniz?')">Sil</a>
                </td>
            </tr>
        }
    </tbody>
</table>
